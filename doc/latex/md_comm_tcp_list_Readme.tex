C doubly linked list implementation.

\subsection*{A\+PI}

Below is the public api currently provided by \char`\"{}list\char`\"{}.

\subsection*{\hyperlink{structlist__t}{list\+\_\+t} $\ast$list\+\_\+new();}

Allocate and initialize a {\ttfamily list}.

\hyperlink{structlist__t}{list\+\_\+t} $\ast$mylist = \hyperlink{list_8c_a9dd3eafdb56dcc64689f78fb4acdff3f}{list\+\_\+new()};

\subsection*{list\+\_\+node\+\_\+t $\ast$list\+\_\+node\+\_\+new(void $\ast$val)}

Allocate and initialize a {\ttfamily list\+\_\+node\+\_\+t} with the given {\itshape val}.


\begin{DoxyCode}
\hyperlink{structlist__node}{list\_node\_t} *node = \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"my value"});
node->\hyperlink{structlist__node_a129de89b4c110fa54377ef16ab128ce0}{val}; \textcolor{comment}{// "my value"}
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$ \hyperlink{list_8h_a4edfa9b7742154bff4fc2cb05d044af9}{list\+\_\+rpush(list\+\_\+t $\ast$self, list\+\_\+node\+\_\+t $\ast$node)}}

Append {\itshape node} to {\itshape self}, returning {\itshape node}.


\begin{DoxyCode}
\hyperlink{list_8c_a4edfa9b7742154bff4fc2cb05d044af9}{list\_rpush}(list, \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"value"}));
list->tail->val; \textcolor{comment}{// "value"}
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$ \hyperlink{list_8h_a53460b319b561ce2201bbf95450f1af7}{list\+\_\+rpop(list\+\_\+t $\ast$self)}}

Return / detach node from the end of the list, or {\bfseries N\+U\+LL}.


\begin{DoxyCode}
\hyperlink{structlist__node}{list\_node\_t} *last = list\_pop(names);
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$list\+\_\+lpush(\hyperlink{structlist__t}{list\+\_\+t} $\ast$self, list\+\_\+node\+\_\+t $\ast$node)}

Prepend {\itshape node} to {\itshape self}, returning {\itshape node}.


\begin{DoxyCode}
\hyperlink{list_8c_a7e1b077416813dd474a54826347f7502}{list\_lpush}(list, \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"value"}));
list->head->val; \textcolor{comment}{// "value"}
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$list\+\_\+find(\hyperlink{structlist__t}{list\+\_\+t} $\ast$self, void $\ast$val)}

Return the {\ttfamily list\+\_\+node\+\_\+t} containing {\itshape val} or {\bfseries N\+U\+LL}.


\begin{DoxyCode}
\hyperlink{structlist__node}{list\_node\_t} *node = \hyperlink{list_8c_a5d73352b7bfa0c5a8b33289d7b27a374}{list\_find}(list, \textcolor{stringliteral}{"some value"});
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$list\+\_\+at(\hyperlink{structlist__t}{list\+\_\+t} $\ast$self, int index)}

Return the {\ttfamily list\+\_\+node\+\_\+t} at the given {\itshape index}, where {\itshape index} may also be a negative integer indicating an index from the list {\itshape tail}.


\begin{DoxyCode}
\hyperlink{list_8c_ab3dacc64ceb63b0a0849312b0a14c91c}{list\_at}(list, 0);  \textcolor{comment}{// first}
\hyperlink{list_8c_ab3dacc64ceb63b0a0849312b0a14c91c}{list\_at}(list, 1);  \textcolor{comment}{// second}
\hyperlink{list_8c_ab3dacc64ceb63b0a0849312b0a14c91c}{list\_at}(list, -1); \textcolor{comment}{// last}
\hyperlink{list_8c_ab3dacc64ceb63b0a0849312b0a14c91c}{list\_at}(list, -3); \textcolor{comment}{// third last}
\end{DoxyCode}


\subsection*{void \hyperlink{list_8h_a5ef7843a8a481124bce3e93541ba379a}{list\+\_\+remove(list\+\_\+t $\ast$self, list\+\_\+node\+\_\+t $\ast$node)}}

Remove {\itshape node} from the list, freeing it and it\textquotesingle{}s value.


\begin{DoxyCode}
\hyperlink{list_8c_a5ef7843a8a481124bce3e93541ba379a}{list\_remove}(list, node);
\end{DoxyCode}


\subsection*{void \hyperlink{list_8h_ac2d2be572a896cccd0e76d56eeefcbdb}{list\+\_\+destroy(list\+\_\+t $\ast$self)}}

Free the list and all nodes.


\begin{DoxyCode}
\hyperlink{list_8c_ac2d2be572a896cccd0e76d56eeefcbdb}{list\_destroy}(list);
\end{DoxyCode}


\subsection*{\hyperlink{structlist__iterator__t}{list\+\_\+iterator\+\_\+t} $\ast$list\+\_\+iterator\+\_\+new(\hyperlink{structlist__t}{list\+\_\+t} $\ast$list, list\+\_\+direction\+\_\+t direction)}

Allocate and initialize a {\ttfamily \hyperlink{structlist__iterator__t}{list\+\_\+iterator\+\_\+t}} with the given {\itshape direction}, where {\itshape direction} may be {\bfseries L\+I\+S\+T\+\_\+\+H\+E\+AD} or {\bfseries L\+I\+S\+T\+\_\+\+T\+A\+IL}.


\begin{DoxyCode}
\hyperlink{structlist__node}{list\_node\_t} *node;
\hyperlink{structlist__iterator__t}{list\_iterator\_t} *it = \hyperlink{list_8h_a3c956afda343b4a6aaf68fbd4b446733}{list\_iterator\_new}(list, 
      \hyperlink{list_8h_a2c3af7de0b7ab9c3a84fbc039e75ec66abdf0fd732c6a91b57c5cbea177f1ae00}{LIST\_HEAD});
\textcolor{keywordflow}{while} ((node = \hyperlink{list_8h_a2e5db981e32d3aef49ea79505a0615a6}{list\_iterator\_next}(it))) \{
  puts(node->\hyperlink{structlist__node_a129de89b4c110fa54377ef16ab128ce0}{val});
\}
\end{DoxyCode}


\subsection*{list\+\_\+node\+\_\+t $\ast$list\+\_\+iterator\+\_\+next(\hyperlink{structlist__iterator__t}{list\+\_\+iterator\+\_\+t} $\ast$self)}

Return the next {\ttfamily list\+\_\+node\+\_\+t} or {\bfseries N\+U\+LL}.

\subsection*{void \hyperlink{list__iterator_8c_ad16fa29ddbb444070ea65f871e1c0ba2}{list\+\_\+iterator\+\_\+destroy(list\+\_\+iterator\+\_\+t $\ast$self)};}

Free the iterator only.


\begin{DoxyCode}
\hyperlink{list_8h_ad16fa29ddbb444070ea65f871e1c0ba2}{list\_iterator\_destroy}(it);
\end{DoxyCode}


\subsection*{Examples}

list iteration\+:


\begin{DoxyCode}
\hyperlink{structlist__t}{list\_t} *langs = \hyperlink{list_8c_a9dd3eafdb56dcc64689f78fb4acdff3f}{list\_new}();

\hyperlink{structlist__node}{list\_node\_t} *c = \hyperlink{list_8c_a4edfa9b7742154bff4fc2cb05d044af9}{list\_rpush}(langs, \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"c"}));
\hyperlink{structlist__node}{list\_node\_t} *js = \hyperlink{list_8c_a4edfa9b7742154bff4fc2cb05d044af9}{list\_rpush}(langs, \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"js"}));
\hyperlink{structlist__node}{list\_node\_t} *ruby = \hyperlink{list_8c_a4edfa9b7742154bff4fc2cb05d044af9}{list\_rpush}(langs, \hyperlink{list_8h_a4ef36e0519514ac481d0d7e0b439d431}{list\_node\_new}(\textcolor{stringliteral}{"ruby"}));

\hyperlink{structlist__node}{list\_node\_t} *node;
\hyperlink{structlist__iterator__t}{list\_iterator\_t} *it = \hyperlink{list_8h_a3c956afda343b4a6aaf68fbd4b446733}{list\_iterator\_new}(langs, 
      \hyperlink{list_8h_a2c3af7de0b7ab9c3a84fbc039e75ec66abdf0fd732c6a91b57c5cbea177f1ae00}{LIST\_HEAD});
\textcolor{keywordflow}{while} ((node = \hyperlink{list_8h_a2e5db981e32d3aef49ea79505a0615a6}{list\_iterator\_next}(it))) \{
  puts(node->\hyperlink{structlist__node_a129de89b4c110fa54377ef16ab128ce0}{val});
\}

\hyperlink{list_8h_ad16fa29ddbb444070ea65f871e1c0ba2}{list\_iterator\_destroy}(it);
\hyperlink{list_8c_ac2d2be572a896cccd0e76d56eeefcbdb}{list\_destroy}(langs);
\end{DoxyCode}


stdout\+: \begin{DoxyVerb}c
js
ruby
\end{DoxyVerb}


\subsection*{Benchmarks}

\begin{DoxyVerb}$ make benchmark

 10,000,000 nodes

              lpush: 0.5000s
              rpush: 0.5000s
               lpop: 0.0312s
               rpop: 0.0312s
   find (last node): 0.0312s
            iterate: 0.0625s
        at(100,000): 0.0000s
      at(1,000,000): 0.0000s
       at(-100,000): 0.0000s
\end{DoxyVerb}


\subsection*{Testing}

\begin{DoxyVerb}$ make test
\end{DoxyVerb}


\subsection*{License}

(The M\+IT License)

Copyright (c) 2009-\/2010 TJ Holowaychuk $<$\href{mailto:tj@vision-media.ca}{\tt tj@vision-\/media.\+ca}$>$

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \textquotesingle{}Software\textquotesingle{}), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions\+:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

T\+HE S\+O\+F\+T\+W\+A\+RE IS P\+R\+O\+V\+I\+D\+ED \textquotesingle{}AS IS\textquotesingle{}, W\+I\+T\+H\+O\+UT W\+A\+R\+R\+A\+N\+TY OF A\+NY K\+I\+ND, E\+X\+P\+R\+E\+SS OR I\+M\+P\+L\+I\+ED, I\+N\+C\+L\+U\+D\+I\+NG B\+UT N\+OT L\+I\+M\+I\+T\+ED TO T\+HE W\+A\+R\+R\+A\+N\+T\+I\+ES OF M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY, F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE A\+ND N\+O\+N\+I\+N\+F\+R\+I\+N\+G\+E\+M\+E\+NT. IN NO E\+V\+E\+NT S\+H\+A\+LL T\+HE A\+U\+T\+H\+O\+RS OR C\+O\+P\+Y\+R\+I\+G\+HT H\+O\+L\+D\+E\+RS BE L\+I\+A\+B\+LE F\+OR A\+NY C\+L\+A\+IM, D\+A\+M\+A\+G\+ES OR O\+T\+H\+ER L\+I\+A\+B\+I\+L\+I\+TY, W\+H\+E\+T\+H\+ER IN AN A\+C\+T\+I\+ON OF C\+O\+N\+T\+R\+A\+CT, T\+O\+RT OR O\+T\+H\+E\+R\+W\+I\+SE, A\+R\+I\+S\+I\+NG F\+R\+OM, O\+UT OF OR IN C\+O\+N\+N\+E\+C\+T\+I\+ON W\+I\+TH T\+HE S\+O\+F\+T\+W\+A\+RE OR T\+HE U\+SE OR O\+T\+H\+ER D\+E\+A\+L\+I\+N\+GS IN T\+HE S\+O\+F\+T\+W\+A\+RE. 